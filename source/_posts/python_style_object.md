---
title: Python 风格的对象
date: 2020/10/17
categories: 
- Python
tags:
- 学习笔记
- python
---

本篇为《流畅的Python》第9章阅读笔记，主要知识点如下。



#### classmethod 与 staticmethod 

两者均是定义在类中的函数，并且不需要实例化便可以调用。不同点在于，classmethod 的第一个参数默认为所在类，而 staticmethod 可以被看作是一个普通的函数。



#### 私有属性与受保护属性

这两种属性都是为了避免子类意外覆盖“私有属性”。但实际上，python 中无法真正实现变量的“私有”和“受保护”。

- 私有对象：以双下划线 `__` 开头，例如`Dog`类中的`__color`属性。实例化后，该属性会被“命名改写”机制改为`_Dog__color`。因此，如果了解了具体的改写规则，所谓的私有对象其实可以也是可以被访问到的。
- 受保护属性：以单下划线开头。该规则为约定俗成，python 解释器实际上不会对其进行特殊处理。



#### `__slots__`类属性

python 会构造一个名为`__dict__`的字典来存储实例属性，而字典会消耗较多的内存。当实例数比较多时，这个问题会更加明显。为了解决这个问题，可以利用`__slots__`定义实例属性，由于实例只能拥有`__slots__`中定义的属性，所以解释器便可以将实例属性存储在类似元组的结构中，达到减少内存的目的。
